# JCU_HK
# 前言
氮化硅晶圆微损伤在不同场景下存在边缘模糊崎岖、纹理梯度骤降、轮廓层层缺失等错综复杂现象，现有图像处理方法理论体系难以支撑氮化硅晶圆微损伤模糊维度特征的图像处理方法研究。因此，本章节的核心科学问题集中于图像处理方法的理论研究，结合多层次区域边缘分割模型、多尺度目标检测网络模型、多元化语义分割网络模型等图像处理方法理论，构建氮化硅晶圆微损伤模糊维度特征的图像处理方法理论模型。
# 1 简介
## 1.1 氮化硅晶圆微损伤模糊维度特征的多层次区域边缘分割方法研究
为了解决氮化硅晶圆微损伤存在的模糊维度特征导致图像分割困难等问题，提出了一种针对单场景单目标氮化硅晶圆微损伤特征的多层次区域边缘分割方法。实现了单场景单目标氮化硅晶圆微损伤特征的精确边缘分割。通过对多层次区域边缘分割效果的评价表明：增强后的图像均方根误差为 0.0069、组件连接 Snake 模型分割图像边缘覆盖率为 99.04%，平均分割准确率为96.32%，充分验证了该方法在单场景单目标氮化硅晶圆微损伤特征边缘分割中的有效性。
## 1.2 氮化硅晶圆微损伤模糊维度特征的多尺度目标检测方法研究
提出了一种基于双交叉注意力机制与多参数特征梯度直方图架构的多尺度目标检测方法，实现了多场景单目标氮化硅晶圆微损伤特征的多尺度目标检测。通过对多尺度目标检测评价指标的分析结果表明：氮化硅晶圆微损伤精准分割方法平均准确率为 97.51%，三种不同氮化硅晶圆微损伤的平均交并比均超过 89%，验证了氮化硅晶圆微损伤特征目标检测的有效性。
## 1.3 氮化硅晶圆微损伤模糊维度特征的多元化语义分割方法研究
提出了一种基于轻量级 CBAM 注意力机制与集成化多头注意力并行演算机制的多元化语义分割方法，实现了多场景多目标氮化硅晶圆微损伤特征的多元化语义分割。通过对多元化语义分割评价指标的分析结果表明：MiOU、MPA、Precision 和 Recall 分别达到了 89.28%、92.45%、96.04%和 92.45%，验证了多场景多目标氮化硅晶圆微损伤特征语义分割的有效性。
# 2 使用
## 2.1 安装依赖
安装tensorboard可视化界面

`<pip install tensorboard -i https://pypi.tuna.tsinghua.edu.cn/simple>` 

`<pip install tensorboardX -i https://pypi.tuna.tsinghua.edu.cn/simple>` 

安装opencv-python

`<pip install opencv-contrib-python -i https://pypi.tuna.tsinghua.edu.cn/simple>` 

## 2.2 训练

训练脚本

`<nohup python train.py &>`

数据可视化

`<nohup tensorboard --logdir=runs &>`
# 3 实验结果
## 3.1
增强算法种类|增强图像数量|PSNR(dB)|RMSE|MAE|SSIM
----|-----|------|------|------|------
动态均值滤波|100|35.45|0.0069|0.0081|0.8929
均值滤波|100|32.03|0.025|0.0128|0.8777
中值滤波|100|33.7|0.0152|0.0095|0.9083
高通滤波|100|10.39|0.302|0.2969|0.5842

## 3.2
网络模型|Precision(%)|mIoU(%)|Fφ(%)|Sφ(%)|Eφ(%)|AUC(%)|MAE(10-3)
----|-----|------|------|------|------|------|------
----|(0~1)↑|[0~1]↑|[0~1]↑|(0~1)↑|(0~1)↑|(0.5~1)↑|(0~∞)↓
PoolNet|83.02|75.6|83.14|85.90|84.92|85.11|27
EGNet|90.29|81.3|90.99|91.08|92.18|92.97|16
MINet|91.76|81.7|89.72|87.42|93.16|95.64|13
WDDS|97.51|91.8|94.24|92.57|96.06|97.53|5

## 3.3
Methods|Backbone|分割评价指标(%)| | | |
----|-----|------|------|------|------
----|-----|Miou|Mpa|Precision|Recall
Method 1|Resnet101|80.84|83.56|85.74|80.38
Method 2|Vgg16|81.37|85.29|88.43|90.15
Method 3|Vgg16|83.80|90.5|91.13|90.08
WDSS|Vgg16|89.28|92.45|96.04|92.45

# 4文件结构
    ├── WDDS: 多尺度目标检测
          ├── dataset: 数据集
          │    ├── DUTS-TE: 测试集
          │    │     ├── DUTS-TE-Image: 原始图片
          │    │     └── DUTS-TE-Mask: 标注图片
          │    └── DUTS-TR: 训练集
          │          ├── DUTS-TR-Image: 原始图片
          │          └── DUTS-TR-Image: 标注图片
          ├── inference: 推理模型
          ├── utils: 工具
          │     ├── split_data.py: 分割数据
          │     ├── to_gray.py: 转灰度
          │     └── to_mask.py: 转蒙版
          ├── train_utils: 训练验证网络时使用到的工具
          ├── src: 源码
          │     └── model.py: 网络模型
          ├── train.py: 针对单GPU或者CPU的用户使用
          ├── train_multi_GPU.py: 针对使用多GPU的用户使用
          └── predict.py: 简易的预测脚本，使用训练好的权重进行预测测试
    └── WDSS: 多元化语义分割
          ├── nets: 网络结构
          ├── utils: 工具
          │     ├── dataloader.py: 数据集加载
          │     ├── utils.py: 处理工具
          ├── train.py: 针对单GPU或者CPU的用户使用
          └── unet.py: 网络模型
